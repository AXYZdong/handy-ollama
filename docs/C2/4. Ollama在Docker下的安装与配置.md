# Ollama安装与配置-docker篇

## 简介

本节学习如何在Docker中完成Ollama的安装与配置。

> Docker是一种虚拟化的容器技术，其基于镜像，可以秒级启动各种容器。其中的每一种容器都是一个完整的运行环境，可以实现容器之间的隔离。
>
> [**Ollama**](https://ollama.com/download)官方主页：https://ollama.com/library
> **Ollama**官方GitHub源代码仓库：[https://github.com/ollama/ollama/](https://github.com/ollama/ollama)
>
> docker安装官方教程：https://hub.docker.com/r/ollama/ollama

![](..\images\C2-4-1.png)

## 一、拉取ollama镜像

> 笔者事先在Windows系统下载了docker👉[docker安装下载官方网站](https://docs.docker.com/desktop/install/windows-install/)

**方式一：Docker软件在可视化界面中搜索并下载**

![](..\images\C2-4-2.png)

**方式二：官网推荐直接使用下面的指令拉取下载镜像，本项目只需在CPU上即可运行**

```bash
# CPU 或者 Nvidia GPU 
docker pull ollama/ollama

# AMD GPU
docker pull ollama/ollama:rocm
```

注：如果读者想要使用具体的版本的镜像，明确运行环境，可以使用下面的指令:

```bash
# CPU 或 Nvidia GPU下载ollama 0.3.0
docker pull ollama/ollama:0.3.0
# AMD GPU下载ollama 0.3.0
docker pull ollama/ollama:0.3.0-rocm
```

## 二、运行ollama镜像

**方式一：Docker在可视化界面中运行镜像**

- 下载完成后，可以在 `Images`中找到 `ollama`镜像，点击 `run`标识即可运行，注意运行前在弹出的可选设置里面，选定一个端口号（如8089）

![](..\images\C2-4-3.png)

- 在 `Containers`中找到该镜像，点击 `OLLM`即可进入ollama界面

![](..\images\C2-4-4.png)

![](..\images\C2-4-5.png)

**方式二：命令行启动**

- CPU版本：

```shell
docker run -d -v ollama:/root/.ollama -p 11434:11434 --name ollama ollama/ollama
```
